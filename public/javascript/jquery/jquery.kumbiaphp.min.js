/*
	http://wiki.kumbiaphp.com/Licencia	 New BSD License
*/
(function(t){t.KumbiaPHP={publicPath:null,plugin:[],cConfirm:function(i){var a=t(this);confirm(a.data("msg"))||i.preventDefault()},cFx:function(i){return function(a){a.preventDefault();var e=t(this),n=t("#"+e.data("to"));n[i]()}},cRemote:function(i){var a=t(this),e=t("#"+a.data("to"));i.preventDefault(),e.load(this.href)},cRemoteConfirm:function(i){var a=t(this),e=t("#"+a.data("to"));i.preventDefault(),confirm(a.data("msg"))&&e.load(this.href)},cFRemote:function(i){i.preventDefault(),este=t(this);var a=t("[type=submit]",este);a.attr("disabled","disabled");var e=este.attr("action"),n=este.attr("data-to");t.post(e,este.serialize(),function(i,e){var c=t("#"+n);c.html(i),c.hide(),c.show("slow"),a.attr("disabled",null)})},cUpdaterSelect:function(i){var a=t(this),e=t("#"+a.data("update"));e.load(a.data("url")+a.val())},bind:function(){t("body").on("click","a.js-confirm, input.js-confirm",this.cConfirm),t("body").on("click","a.js-remote",this.cRemote),t("body").on("click","a.js-remote-confirm",this.cRemoteConfirm),t("body").on("click","a.js-show",this.cFx("show")),t("body").on("click","a.js-hide",this.cFx("hide")),t("body").on("click","a.js-toggle",this.cFx("toggle")),t("body").on("click","a.js-fade-in",this.cFx("fadeIn")),t("body").on("click","a.js-fade-out",this.cFx("fadeOut")),t("body").on("submit","form.js-remote",this.cFRemote),t("body").on("change","select.js-remote",this.cUpdaterSelect),t.KumbiaPHP.bindDatePicker()},autoload:function(){var a=t("[class*='jp-']");t.each(a,function(i,a){var e=t(this),n=e.attr("class").split(" ");for(i in n)if("jp-"==n[i].substr(0,3)){if(-1!=t.inArray(n[i].substr(3),t.KumbiaPHP.plugin))continue;t.KumbiaPHP.plugin.push(n[i].substr(3))}});var e=t("head");for(i in t.KumbiaPHP.plugin)t.ajaxSetup({cache:!0}),e.append('<link href="'+t.KumbiaPHP.publicPath+"css/"+t.KumbiaPHP.plugin[i]+'.css" type="text/css" rel="stylesheet"/>'),t.getScript(t.KumbiaPHP.publicPath+"javascript/jquery/jquery."+t.KumbiaPHP.plugin[i]+".js",function(t,i){})},bindDatePicker:function(){var i=t("input.js-datepicker"),a=function(){i.each(function(){var i={monthSelector:!0,yearSelector:!0},a=t(this);null!=a.attr("min")&&(i.dateMin=a.attr("min").split("-")),null!=a.attr("max")&&(i.dateMax=a.attr("max").split("-")),a.pickadate(i)})};if(void 0!==t.pickadate)return a();t("head").append('<link href="'+this.publicPath+'css/pickadate.css" type="text/css" rel="stylesheet"/>'),jQuery.ajax({dataType:"script",cache:!0,url:this.publicPath+"javascript/jquery/pickadate.js"}).done(function(){a()})},initialize:function(){var i=t("script:last").attr("src");this.publicPath=i.substr(0,i.length-41),t(function(){t.KumbiaPHP.bind(),t.KumbiaPHP.autoload()})}},t.KumbiaPHP.initialize()})(jQuery);